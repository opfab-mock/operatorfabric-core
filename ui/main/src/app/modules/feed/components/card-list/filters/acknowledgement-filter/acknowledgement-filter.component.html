<!-- Copyright (c) 2018-2020, RTE (http://www.rte-france.com)              -->
<!-- See AUTHORS.txt                                                       -->
<!-- This Source Code Form is subject to the terms of the Mozilla Public   -->
<!-- License, v. 2.0. If a copy of the MPL was not distributed with this   -->
<!-- file, You can obtain one at http://mozilla.org/MPL/2.0/.              -->
<!-- SPDX-License-Identifier: MPL-2.0                                      -->
<!-- This file is part of the OperatorFabric project.                      -->

<ng-template #filterAckContent>
    <form [formGroup]="ackFilterForm" id="ack-filter-form">
        <div class="form-group form-check">

            <input type="radio" id="ack-ack" class="form-check-input" formControlName="ackControl" value="ack">
            &nbsp;
            <label for="ack-ack" class="form-check-label" translate>feed.filters.ack.acknowledged.label</label>            
        </div>
        <div class="form-group form-check">

            <input type="radio" id="ack-notack" class="form-check-input" formControlName="ackControl" value="notack">
            &nbsp;
            <label for="ack-notack" class="form-check-label" translate>feed.filters.ack.notacknowledged.label</label>            
        </div>
        <div class="form-group form-check">
            <input type="radio" id="ack-all" class="form-check-input" formControlName="ackControl" value="all">
                        &nbsp;
            <label for="ack-all" class="form-check-label" translate>feed.filters.ack.all.label</label>            
        </div>
    </form>
</ng-template>

<ng-template #filterAckTitle><span translate>feed.filters.ack.title</span></ng-template>

<ng-template #ackTooltipLabel>
    <span *ngIf="!((filter$|async).active)" translate>feed.filters.ack.all.label</span>
    <span *ngIf="(filter$|async).active && (filter$|async).status" translate>feed.filters.ack.acknowledged.label</span>
    <span *ngIf="(filter$|async).active && !((filter$|async).status)" translate>feed.filters.ack.notacknowledged.label</span>
 </ng-template>


 <button type="button" class="btn btn-outline-light p-1 mr-1 border-0 opfab-feed-icon" placement="auto right"
            [ngbPopover]="filterAckContent" [popoverTitle]="filterAckTitle" container="body"
            [autoClose]="'always'" [ngbTooltip]="ackTooltipLabel">
            <div *ngIf="!(filter$|async).active">

                <span class="fa-stack" style="font-size: 8px;">
                        <em class="fa fa-inverse fa-stack-2x filter-ack-icon-border  filter-ack-subicon-ur fa-clipboard-check"></em>
                        <em class="fa fa-inverse fa-stack-2x filter-ack-icon-border  filter-ack-subicon-dl fa-clipboard"></em>
                </span>
            </div>
            <div *ngIf="((filter$|async).active)&& ((filter$|async).status)">
                <em class="fas fa-clipboard-check"></em>
            </div>
            <div *ngIf="((filter$|async).active)&& !((filter$|async).status)">
                <em class="fas fa-clipboard"></em>
            </div>    
   </button> 

 